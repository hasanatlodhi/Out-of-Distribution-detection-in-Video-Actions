{% load static %}

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Action Recognition</title>

    <!-- icons cdn link  -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css"
    />
    <!-- icon scout cdn  -->
    <link
      rel="stylesheet"
      href="https://unicons.iconscout.com/release/v4.0.0/css/line.css"
    />
    <!-- icon scout cdn ends here -->

    <!-- icons cdn links end here  -->

    <!-- font syles links  -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap"
      rel="stylesheet"
    />
    <!-- font styles links end here  -->
    <!-- swiper js css link  -->

    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/swiper@8/swiper-bundle.min.css"
    />

    <!-- swiper js css section ends  -->

    <!-- css style sheet link  -->
    
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
    <link rel="stylesheet" href="{% static 'css/contactus.css' %}">
    <link rel="stylesheet" href="{% static 'css/report.css' %}">
    
    <!-- style sheet link section ends here -->
  </head>
  <body>
    <!-- ========== nav section starts here =============== -->
    <nav>
      <div class="container nav_container">
          <a href="/" class="logo"><i class="fa fa-thin fa-person-running  fa-2x"></i><span class="logotext">Actions.ai</span></a>
          <ul class="nav_menu navbar">
              <li><a data-active="index" href="/"><i class="fa fa-home" aria-hidden="true"></i> Home</a></li>
              <li><a data-active="ourteam" href="/ourteam"><i class="fa fa-universal-access" aria-hidden="true"></i> OurTeam</a></li>
              <li><a data-active="blogs" href="/blogs"><i class="fa fa-pencil" aria-hidden="true"></i> Blogs</a></li>
              <li><a data-active="contact" href="/contactus"><i class="fa fa-share" aria-hidden="true"></i> ContactUs</a></li>
                </ul>
          <ul class="loglink">
              <li><a data-active="login" class="login" href="/login"><i class="fa fa-sign-in" aria-hidden="true"></i> Login/Signup</a></li> 
          </ul>
          <button class="open_menu_btn"><i class="uil uil-bars"></i></button>
          <button class="close_menu_btn"><i class="uil uil-multiply"></i></button>
      </div>
      <div class="scroll-indicator"></div>
  </nav>

    <!-- ========== nav section ends here =============== -->

    <!-- ========== report page section starts here =============== -->
    <section class="report">
      <div class="container report_container">
        <!-- ========== url section starts here =============== -->
       
        <!-- ========== url section ends here =============== -->

        <!-- ========== video section starts here =============== -->
        <div class="show_loader" style="margin: auto; display: none;">
          <h4 id="show_process">Fetching Video Please Wait..</h4>
          <br>
        <div class="loader"></div>
        </div>
        <div class="urlvideo">
          <div class="videoWrapper">
            <video
              src="{% static 'vids/video1.mp4' %}"
              autoplay
              loop
              muted
              width="500"
              height="500"
              controls
              id="fetched_video"
            ></video>
            
           
            
          </div>
        </div>
        <!-- ========== video section ends here ===============  src="{% static 'recognizedVideos/' %}{{video_path}}.mp4" --> 

        <!-- ========== report section starts here =============== -->

        <div class="reportform">
          <table>
            <caption>
              Statement Summary
            </caption>
            <thead>
              <tr>
                <th scope="col">Account</th>
                <th scope="col">Due Date</th>
                <th scope="col">Amount</th>
                <th scope="col">Period</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td data-label="Account">Visa - 3412</td>
                <td data-label="Due Date">04/01/2016</td>
                <td data-label="Amount">$1,190</td>
                <td data-label="Period">03/01/2016 - 03/31/2016</td>
              </tr>
              <tr>
                <td scope="row" data-label="Account">Visa - 6076</td>
                <td data-label="Due Date">03/01/2016</td>
                <td data-label="Amount">$2,443</td>
                <td data-label="Period">02/01/2016 - 02/29/2016</td>
              </tr>
              <tr>
                <td scope="row" data-label="Account">Corporate AMEX</td>
                <td data-label="Due Date">03/01/2016</td>
                <td data-label="Amount">$1,181</td>
                <td data-label="Period">02/01/2016 - 02/29/2016</td>
              </tr>
              <tr>
                <td scope="row" data-label="Acount">Visa - 3412</td>
                <td data-label="Due Date">02/01/2016</td>
                <td data-label="Amount">$842</td>
                <td data-label="Period">01/01/2016 - 01/31/2016</td>
              </tr>
            </tbody>
          </table>
        </div>
        <!-- ========== report section ends here =============== -->
      </div>
      
    </section>

    <!-- ========== history section starts here =============== -->
    <section class="container history_container swiper mySwiper">
        <h2>History</h2>
        <div class="swiper-wrapper">
          <article class="history swiper-slide">
            <div class="history-avatar">
              <img src="{% static 'images/course13.jpg' %}" alt="avatar1" />
            </div>
            <div class="history_info">
              <h5>Aria Stark</h5>
              <small>Researcher</small>
            </div>
            <div class="history_body">
              <p>
                "Lorem, ipsum dolor sit amet consectetur adipisicing elit.
                Placeat ut dolore aspernatur eius ullam eveniet. "
              </p>
            </div>
          </article>

          <article class="history swiper-slide">
            <div class="history-avatar">
              <img src="{% static 'images/course1.jpg' %}" alt="avatar1" />
            </div>
            <div class="history_info">
              <h5>AsiF Rehan</h5>
              <small>Developer</small>
            </div>
            <div class="history_body">
              <p>
                "Lorem, ipsum dolor sit amet consectetur adipisicing elit.
                Placeat ut dolore aspernatur eius ullam eveniet. "
              </p>
            </div>
          </article>

          <article class="history swiper-slide">
            <div class="history-avatar">
              <img src="{% static 'images/course10.jpg' %}" alt="avatar1" />
            </div>
            <div class="history_info">
              <h5>Hasanat Ahmad</h5>
              <small>Data Scientist</small>
            </div>
            <div class="history_body">
              <p>
                "Lorem, ipsum dolor sit amet consectetur adipisicing elit.
                Placeat ut dolore aspernatur eius ullam eveniet. "
              </p>
            </div>
          </article>

          <article class="history swiper-slide">
            <div class="history-avatar">
              <img src="{% static 'images/course11.jpg' %}" alt="avatar1" />
            </div>
            <div class="history_info">
              <h5>Sara Rehman</h5>
              <small>Researcher</small>
            </div>
            <div class="history_body">
              <p>
                "Lorem, ipsum dolor sit amet consectetur adipisicing elit.
                Placeat ut dolore aspernatur eius ullam eveniet. "
                Lorem ipsum dolor sit amet consectetur adipisicing elit. Exercitationem, sequi?
              </p>
            </div>
          </article>
          <article class="history swiper-slide">
            <div class="history-avatar">
              <img src="{% static 'images/course10.jpg' %}" alt="avatar1" />
            </div>
            <div class="history_info">
              <h5>Hasanat Ahmad</h5>
              <small>Data Scientist</small>
            </div>
            <div class="history_body">
              <p>
                "Lorem, ipsum dolor sit amet consectetur adipisicing elit.
                Placeat ut dolore aspernatur eius ullam eveniet. "
              </p>
            </div>
          </article>
          <article class="history swiper-slide">
            <div class="history-avatar">
              <img src="{% static 'images/course10.jpg' %}" alt="avatar1" />
            </div>
            <div class="history_info">
              <h5>Hasanat Ahmad</h5>
              <small>Data Scientist</small>
            </div>
            <div class="history_body">
              <p>
                "Lorem, ipsum dolor sit amet consectetur adipisicing elit.
                Placeat ut dolore aspernatur eius ullam eveniet. "
              </p>
            </div>
          </article>
          <article class="history swiper-slide">
            <div class="history-avatar">
              <img src="{% static 'images/course10.jpg' %}" alt="avatar1" />
            </div>
            <div class="history_info">
              <h5>Hasanat Ahmad</h5>
              <small>Data Scientist</small>
            </div>
            <div class="history_body">
              <p>
                "Lorem, ipsum dolor sit amet consectetur adipisicing elit.
                Placeat ut dolore aspernatur eius ullam eveniet. "
              </p>
            </div>
          </article>
        </div>
        <div class="swiper-pagination"></div>
      </section>

      <!-- ========== testimonial section ends here =============== -->
    <!-- ========== footer section starts here =============== -->
    <footer>
      <div class="container footer_container">
        <div class="footer_1">
          <a href="index.html" class="footer_logo"
            ><i class="fa fa-thin fa-person-running fa-2x"></i>Actions.ai</a
          >
          <p>
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Expedita,
            voluptate.
          </p>
        </div>
        <div class="footer_2">
          <h4>Links</h4>
          <ul class="permalinks">
            <li><a href="/">Home</a></li>
            <li><a href="/ourteam">OurTeam</a></li>
            <li><a href="/blogs">Blogs</a></li>
            <li><a href="/contactus">ContactUs</a></li>
        </ul>
        </div>
        <div class="footer_3">
          <h4>Contact Us</h4>
          <ul class="permalinks">
            <div>
              <p>+923478318273</p>
              <p>rehanasif3454@gmail.com</p>
              <ul class="footer_socials">
                <a href="#" class="uil uil-facebook-f"></a>
                <a href="#" class="uil uil-instagram-alt"></a>
                <a href="#" class="uil uil-twitter"></a>
                <a href="#" class="uil uil-linkedin-alt"></a>
              </ul>
            </div>
          </ul>
        </div>
      </div>

      <div class="footer_copyright">
        <small>Copyright &copy; Actions.ai by Asif Rehan</small>
      </div>
    </footer>

    <!-- ========== footer section ends here =============== -->

    <!-- ========== javascript file link =============== -->

    <script src="{% static 'js/Main.js' %}"></script>

    <script src="https://cdn.jsdelivr.net/npm/swiper@8/swiper-bundle.min.js"></script>
    
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
    <!-- Initialize Swiper -->
    <script>
      
      window.CSRF_TOKEN = "{{ csrf_token }}";
      var swiper = new Swiper(".mySwiper", {
        slidesPerView: 1,
        spaceBetween: 30,
        pagination: {
          el: ".swiper-pagination",
          clickable: true,
        },

        //when windown width is >=600px
        breakpoints: {
          600: {
            slidesPerView: 3,
          },
        },
      });

      // $('.processbtn').click(function(){
      //   var video_url=$('.pasteurl').val();
      //   if(!video_url.length == 0)
      //   {
      //     $('.show_loader').css("display", "block");
      //     $('#show_process').text("Fetching Video Please Wait");
      //     $.ajax(
      //       {
      //       type:"POST",
      //       url: "/get_video",
      //       data:{
      //         csrfmiddlewaretoken: window.CSRF_TOKEN,
      //               url: video_url
      //       },
      //       success: function( data ) 
      //       {
      //         if(data=="error")
      //         {
                
      //           $('.show_loader').css("display", "none");
      //           alert("Url is invalid");
      //         }
      //         else{
      //           var vid_source="{% static 'videos/' %}" +data + "";
      //          $('#fetched_video').attr('src',vid_source);
                
      //       recognize_action(data);
      //         }
      //         // $('.show_loader').css("display", "none");
              
      //       }
      //     })
      //   }
      // });

      // function recognize_action(videoName)
      // {
      //   $('.show_loader').css("display", "block");
        
      //   $('#show_process').text("Recognizing Actions Please Wait");
      //   $.ajax(
      //       {
      //       type:"POST",
      //       url: "/recognize_i3d",
      //       data:{
      //         csrfmiddlewaretoken: window.CSRF_TOKEN,
      //               video_name: videoName
      //       },
      //       success: function( data ) 
      //       {
      //         $('.show_loader').css("display", "none");
      //          var vid_source="{% static 'recognizedVideos/' %}" +data + "";
      //          $('#fetched_video').attr('src',vid_source);
                
      //       }
      //     })
      // }
      var data = JSON.parse("{{data|escapejs}}");
      for(var x in data){
        for (index in data[x])
        {
          $.ajax(
            {
            type:"POST",
            url: "/get_video",
            data:{
              csrfmiddlewaretoken: window.CSRF_TOKEN,
                    url: data[x][index]
            },
            success: function( returned_data ) 
            {
              if(returned_data=="error")
              {
                
                // $('.show_loader').css("display", "none");
                alert("Url is invalid");
              }
              else{
                console.log(returned_data);
                var vid_source="{% static 'videos/' %}" +returned_data + "";
              //  $('#fetched_video').attr('src',vid_source);
                
            recognize_action(returned_data);
              }
              // $('.show_loader').css("display", "none");
              
            }
          })
        }
        
      }

      function recognize_action(videoName)
      {
        // $('.show_loader').css("display", "block");
        
        // $('#show_process').text("Recognizing Actions Please Wait");
        $.ajax(
            {
            type:"POST",
            url: "/recognize_i3d",
            data:{
              csrfmiddlewaretoken: window.CSRF_TOKEN,
                    video_name: videoName
            },
            success: function( data ) 
            {
              // $('.show_loader').css("display", "none");
               var vid_source="{% static 'recognizedVideos/' %}" +data + "";
               $('#fetched_video').attr('src',vid_source);
                
            }
          })
      }
    </script>
    <!-- ========== javascript file link ends =============== -->
  </body>
</html>
